<% provide :title, "All Documents" %>
<div class="container-fluid">
  <p id="notice"><%= notice %></p>

  <% if @documents.all.count != 0 %>
    <h1>Documents</h1>
    <% if current_user && (can? :create, Document) %>
        <%= link_to 'New Document', new_document_path %>
    <% end %>

    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>category</th>
          <th>uploaded by</th>
          <th>download</th>
          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @documents.each do |document| %>
          <tr>
            <td><%= document.name %></td>
            <td><%= document.document_category.name %></td>
            <td><%= document.user.email %></td>
            <td><%= link_to "view file", document.file.url, target: '_blank' if document.file? %></td>
            <td><%= link_to 'Show', document %></td>
            <% if document.user == current_user %>
              <td><%= link_to 'Edit', edit_document_path(document) %></td>
              <td><%= link_to 'Destroy', document, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            <% end %>
          </tr>
        <% end %>
      </tbody>
    </table>

  <% else %>

    <div class="jumbotron">
      <h3 align="center"><b>No Documents</b></h3>
    </div>

  <% end %>



  <br>




</div>
